<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>API Documentation</title>
  <meta name="description" content="Apache UserALE.PyQt5 intercepts all application events by letting the developer install an event filter in their PyQt5 application to generate detailed user ...">

  <link rel="stylesheet" type="text/css" href="/semantic/dist/semantic.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <script src="/semantic/dist/semantic.min.js"></script>
  <script src="https://d3js.org/d3.v4.min.js"></script>
  <script src="/js/main.js"></script>

  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="http://flagon.incubator.apache.org/docs/useralepy/api.html">
  <link rel="alternate" type="application/rss+xml" title="Apache Flagon" href="/feed.xml">

  
</head>


  <body>

    <div class="site-header">
  <div id="main-menu" class="ui inverted padded fixed top borderless menu">
    <a class="site-title" href="/">
      <h3 class="ui inverted header item">Apache Flagon</h3>
    </a>

    <div class="right menu">
      <div class="ui dropdown item">
        Products
        <div class="menu">
          <a class="item" href="/stack">Stack</a>
          <a class="item" href="/userale">UserALE</a>
          <a class="item" href="/distill">Distill</a>
          <a class="item" href="/tap">Tap</a>
          <a class="item" href="/stout">Stout</a>
        </div>
      </div>
      <div class="ui dropdown item">
        <a href="/docs">Docs</a>
        <div class="menu">
          <a class="item" href="/docs/stack">Stack</a>
          <a class="item" href="/docs/userale">UserALE</a>
          <a class="item" href="/docs/useralejs">UserALE.js</a>
          <a class="item" href="/docs/useralepy">UserALE.py</a>
          <a class="item" href="/docs/distill">Distill</a>
          <a class="item" href="/docs/tap">Tap</a>
          <a class="item" href="/docs/stout">Stout</a>
        </div>
      </div>
      <a class="item" href="/releases">Releases</a>
      <a class="item" href="/community">Community</a>
    </div>
  </div>
</div>


    <div class="main-wrapper">
      <div class="docs-wrapper">
  <div class="docs-sidebar">
    








<!-- <div class="ui inverted list">
  <a class="item" href="/docs">About the Docs</a>
</div> -->
<div id="docs-nav" class="ui inverted accordion">
  
    <div class="title">
  
    <i class="dropdown icon"></i>
    Apache Flagon
  </div>
  
    <div class="content">
  
    <div class="ui inverted bulleted list docs-list">
      
        <a class="item" href="/docs/">About the Docs</a>
      
        <a class="item" href="/docs/contributing/">Contributing</a>
      
    </div>
  </div>


  
    <div class="title">
  
    <i class="dropdown icon"></i>
    Stack
  </div>
  
    <div class="content">
  
    <div class="ui inverted bulleted list docs-list">
      
        <a class="item" href="/docs/stack/">Getting Started</a>
      
        <a class="item" href="/docs/stack/scaling/">Scaling Considerations</a>
      
    </div>
  </div>

  
    <div class="title">
  
    <i class="dropdown icon"></i>
    UserALE
  </div>
  
    <div class="content">
  
    <div class="ui inverted bulleted list docs-list">
      
        <a class="item" href="/docs/userale/">About UserALE</a>
      
    </div>
  </div>

  
    <div class="title">
  
    <i class="dropdown icon"></i>
    UserALE.js
  </div>
  
    <div class="content">
  
    <div class="ui inverted bulleted list docs-list">
      
        <a class="item" href="/docs/useralejs/">Getting Started</a>
      
        <a class="item" href="/docs/useralejs/build/">UserALE.js Build and Test</a>
      
        <a class="item" href="/docs/useralejs/API/">The UserALE.js API</a>
      
        <a class="item" href="/docs/useralejs/modifying/">Modifying UserALE.js Source Code</a>
      
        <a class="item" href="/docs/useralejs/dataschema/">UserALE.js' Data Schema</a>
      
        <a class="item" href="/docs/useralejs/troubleshooting/">Troubleshooting</a>
      
    </div>
  </div>

  
    <div class="active title">
  
    <i class="dropdown icon"></i>
    UserALE.py
  </div>
  
    <div class="active content">
  
    <div class="ui inverted bulleted list docs-list">
      
        <a class="item" href="/docs/useralepy/">Installation</a>
      
        <a class="item" href="/docs/useralepy/start.html">Getting Started</a>
      
        <a class="item" href="/docs/useralepy/api.html">API Documentation</a>
      
        <a class="item" href="/docs/useralepy/changelog.html">Changelog</a>
      
    </div>
  </div>

  
    <div class="title">
  
    <i class="dropdown icon"></i>
    Distill
  </div>
  
    <div class="content">
  
    <div class="ui inverted bulleted list docs-list">
      
        <a class="item" href="/docs/distill/">Installation</a>
      
        <a class="item" href="/docs/distill/start.html">Getting Started</a>
      
        <a class="item" href="/docs/distill/api.html">API Documentation</a>
      
        <a class="item" href="/docs/distill/analytics.html">Apache Distill Analytics</a>
      
        <a class="item" href="/docs/distill/http.html">Apache Distill HTTP Client</a>
      
        <a class="item" href="/docs/distill/models.html">Apache Distill Models</a>
      
        <a class="item" href="/docs/distill/utilities.html">Apache Distill Utilities</a>
      
        <a class="item" href="/docs/distill/changelog.html">Changelog</a>
      
    </div>
  </div>

  
    <div class="title">
  
    <i class="dropdown icon"></i>
    Tap
  </div>
  
    <div class="content">
  
    <div class="ui inverted bulleted list docs-list">
      
        <a class="item" href="/docs/tap/">Getting Started</a>
      
    </div>
  </div>

  
    <div class="title">
  
    <i class="dropdown icon"></i>
    Stout
  </div>
  
    <div class="content">
  
    <div class="ui inverted bulleted list docs-list">
      
        <a class="item" href="/docs/stout/">About Stout</a>
      
        <a class="item" href="/docs/stout/start.html">Getting Started</a>
      
    </div>
  </div>
</div>

  </div>
  <div class="docs-content">
    <h2 class="ui header">API Documentation</h2>
    <p>Apache UserALE.PyQt5 intercepts all application events by letting the developer install an event filter in their PyQt5 application to generate detailed user logs. Apache UserALE.PyQt5 does not capture system level logs or events generated by a non-user (a.k.a. system and signals sent between QObjects).</p>

<h3 id="apache-useralepyqt5">Apache UserALE.PyQt5</h3>

<blockquote>

  <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">userale</span><span class="o">.</span><span class="n">ale</span><span class="o">.</span><span class="n">Ale</span><span class="p">(</span><span class="n">output</span><span class="o">=</span><span class="s">'userale.log'</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
<span class="n">session</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">toolname</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">toolversion</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
<span class="n">keylog</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="n">resolution</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">shutoff</span><span class="o">=</span><span class="p">[])</span>
</code></pre></div>  </div>
</blockquote>

<blockquote>
  <p><strong>Bases:</strong> PyQt5.QtCore.QObject</p>
</blockquote>

<blockquote>
  <p><strong>Parameters:</strong></p>
  <ul>
    <li>output – [str] The file or url path to which logs will be sent</li>
    <li>user – [str] Identifier for the user of the application</li>
    <li>session – [str] Session tag to track same user with multiple sessions. If a session is not provided, one will be created</li>
    <li>toolname – [str] The application name</li>
    <li>toolversion – [str] The application version</li>
    <li>keylog – [bool] Should detailed key logs be recorded. Default is False</li>
    <li>interval – [int] The minimum time interval in ms between batch transmission of logs. Default is 5000ms.</li>
    <li>resolution – [int] Delay in ms between instances of high frequency logs like mousemoves, scrolls, etc. Default is 100ms (10Hz).</li>
    <li>shutoff – [list] Turn off logging for specific events</li>
  </ul>
</blockquote>

<p>An example log will appear like this:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="p">{</span>
      <span class="s1">'target'</span><span class="p">:</span> <span class="s1">'testLineEdit'</span><span class="p">,</span>
      <span class="s1">'path'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'Example'</span><span class="p">,</span> <span class="s1">'testLineEdit'</span><span class="p">],</span>
      <span class="s1">'clientTime'</span><span class="p">:</span> <span class="s1">'2016-08-03 16:12:03.460573'</span><span class="p">,</span>
      <span class="s1">'location'</span><span class="p">:</span> <span class="p">{</span><span class="s1">'x'</span><span class="p">:</span> <span class="mi">82</span><span class="p">,</span> <span class="s1">'y'</span><span class="p">:</span> <span class="mi">0</span><span class="p">},</span>
      <span class="s1">'type'</span><span class="p">:</span> <span class="s1">'mousemove'</span><span class="p">,</span>
      <span class="s1">'userAction'</span><span class="p">:</span> <span class="s1">'true'</span><span class="p">,</span>
      <span class="s1">'details'</span> <span class="p">:</span> <span class="p">{},</span>
      <span class="s1">'userId'</span><span class="p">:</span> <span class="s1">'userABC1234'</span><span class="p">,</span>
      <span class="s1">'session'</span><span class="p">:</span> <span class="s1">'5ee42ccc-852c-44d9-a937-28d7901e4ead'</span><span class="p">,</span>
      <span class="s1">'toolName'</span><span class="p">:</span> <span class="s1">'myApplication'</span><span class="p">,</span>
      <span class="s1">'toolVersion'</span><span class="p">:</span> <span class="s1">'3.5.0'</span><span class="p">,</span>
      <span class="s1">'useraleVersion'</span><span class="p">:</span> <span class="s1">'0.1.0'</span>
  <span class="p">}</span>
</code></pre></div></div>

<h4 id="aggregate">aggregate()</h4>
<p>Sample high frequency logs at self.resolution. High frequency logs are consolidated down to a single log event to be emitted later</p>

<h4 id="cleanup">cleanup()</h4>
<p>Clean up any dangling logs in self.logs or self.hlogs</p>

<h4 id="dump">dump()</h4>
<p>Write log data to file</p>

<h4 id="eventfilterobject-event">eventFilter(object, event)</h4>
<p>Filters events for the watched widget.</p>

<blockquote>
  <p><strong>Parameters:</strong></p>
  <ul>
    <li>object – [QObject] The object being watched.</li>
    <li>event – [QEvent] The event triggered by a user action.</li>
  </ul>
</blockquote>

<blockquote>
  <p><strong>Returns:</strong></p>
  <ul>
    <li>[bool] Propagate filter up if other objects needs to be handled</li>
  </ul>
</blockquote>

<h4 id="getclienttime">getClientTime()</h4>
<p>Capture the time the event was captured in milliseconds since the UNIX epoch (January 1, 1970 00:00:00 UTC)</p>

<blockquote>
  <p><strong>Returns:</strong></p>
  <ul>
    <li>[str] String representation of the time the event was captured.</li>
  </ul>
</blockquote>

<h4 id="getlocationevent">getLocation(event)</h4>
<p>Grab the x and y position of the mouse cursor, relative to the widget that received the event.</p>

<blockquote>
  <p><strong>Parameters:</strong></p>
  <ul>
    <li>event – [QEvent] The base class for all event classes.</li>
  </ul>
</blockquote>

<blockquote>
  <p><strong>Returns:</strong></p>
  <ul>
    <li>[dict] A dictionary representation of the x and y positions of the mouse cursor.</li>
  </ul>
</blockquote>

<h4 id="getpathobject">getPath(object)</h4>
<p>Generate the entire object hierachy from root to leaf node.</p>

<blockquote>
  <p><strong>Parameters:</strong></p>
  <ul>
    <li>object – [QObject] The base class for all Qt objects.</li>
  </ul>
</blockquote>

<blockquote>
  <p><strong>Returns:</strong></p>
  <ul>
    <li>[list] List of QObjects.</li>
  </ul>
</blockquote>

<h4 id="getselectorobject">getSelector(object)</h4>
<p>Get target object’s name (object defined by user or object’s meta class name).</p>

<blockquote>
  <p><strong>Parameters:</strong></p>
  <ul>
    <li>object – [QObject] The base class for all Qt objects.</li>
  </ul>
</blockquote>

<blockquote>
  <p><strong>Returns:</strong></p>
  <ul>
    <li>[str] The Qt object’s name</li>
  </ul>
</blockquote>

<h4 id="getsenderobject">getSender(object)</h4>
<p>Fetch the QObject who triggered the event</p>

<blockquote>
  <p><strong>Parameters:</strong></p>
  <ul>
    <li>object – [QObject] The object being watched.</li>
  </ul>
</blockquote>

<blockquote>
  <p><strong>Returns:</strong></p>
  <ul>
    <li>[QObject] The QObject</li>
  </ul>
</blockquote>

<h4 id="handledrageventsevent_type-event-object">handleDragEvents(event_type, event, object)</h4>
<p>Returns the userale log representing all drag events.</p>

<blockquote>
  <p><strong>Parameters:</strong></p>
  <ul>
    <li>event_type – [str] The string representation of the type of event being triggered by the user.</li>
    <li>event – [QEvent] The base class for all event classes.</li>
    <li>object – [QObject] The base class for all Qt objects.</li>
  </ul>
</blockquote>

<blockquote>
  <p><strong>Returns:</strong></p>
  <ul>
    <li>[dict] A userale log describing a drag event.</li>
  </ul>
</blockquote>

<h4 id="handlekeyeventsevent_type-event-object">handleKeyEvents(event_type, event, object)</h4>
<p>Returns the userale log representing all key events, including key name and key code.</p>

<blockquote>
  <p><strong>Parameters:</strong></p>
  <ul>
    <li>event_type – [str] The string representation of the type of event being triggered by the user.</li>
    <li>event – [QEvent] The base class for all event classes.</li>
    <li>object – [QObject] The base class for all Qt objects.</li>
  </ul>
</blockquote>

<blockquote>
  <p><strong>Returns:</strong></p>
  <ul>
    <li>[dict] A userale log describing a key event.</li>
  </ul>
</blockquote>

<h4 id="handlemouseeventsevent_type-event-object">handleMouseEvents(event_type, event, object)</h4>
<p>Returns the userale log representing all mouse event data.</p>

<blockquote>
  <p><strong>Parameters:</strong></p>
  <ul>
    <li>event_type – [str] The string representation of the type of event being triggered by the user.</li>
    <li>event – [QEvent] The base class for all event classes.</li>
    <li>object – [QObject] The base class for all Qt objects.</li>
  </ul>
</blockquote>

<blockquote>
  <p><strong>Returns:</strong></p>
  <ul>
    <li>[dict] A userale log describing a mouse event.</li>
  </ul>
</blockquote>

<h4 id="handlemoveeventsevent_type-event-object">handleMoveEvents(event_type, event, object)</h4>
<p>Returns the userale log representing all move events.</p>

<blockquote>
  <p><strong>Parameters:</strong></p>
  <ul>
    <li>event_type – [str] The string representation of the type of event being triggered by the user.</li>
    <li>event – [QEvent] The base class for all event classes.</li>
    <li>object – [QObject] The base class for all Qt objects.</li>
  </ul>
</blockquote>

<blockquote>
  <p><strong>Returns:</strong></p>
  <ul>
    <li>[dict] A userale log describing a drag event.</li>
  </ul>
</blockquote>

<h4 id="handleresizeeventsevent_type-event-object">handleResizeEvents(event_type, event, object)</h4>
<p>Returns the userale log representing all resize events.</p>

<blockquote>
  <p><strong>Parameters:</strong></p>
  <ul>
    <li>event_type – [str] The string representation of the type of event being triggered by the user.</li>
    <li>event – [QEvent] The base class for all event classes.</li>
    <li>object – [QObject] The base class for all Qt objects.
<strong>Returns:</strong></li>
    <li>[dict] A userale log describing a resize event.</li>
  </ul>
</blockquote>

<h4 id="handlescrolleventsevent_type-event-object">handleScrollEvents(event_type, event, object)</h4>
<p>Returns the userale log representing all scroll events.</p>

<blockquote>
  <p><strong>Parameters:</strong></p>
  <ul>
    <li>event_type – [str] The string representation of the type of event being triggered by the user.</li>
    <li>event – [QEvent] The base class for all event classes.</li>
    <li>object – [QObject] The base class for all Qt objects.</li>
  </ul>
</blockquote>

<blockquote>
  <p><strong>Returns:</strong></p>
  <ul>
    <li>[dict] A userale log describing a scroll event.</li>
  </ul>
</blockquote>

<h4 id="timereventevent">timerEvent(event)</h4>
<p>Routinely dump data to file or send over the network</p>

<blockquote>
  <p><strong>Parameters:</strong></p>
  <ul>
    <li>object – [list] List of events</li>
  </ul>
</blockquote>

<blockquote>
  <p><strong>Returns:</strong></p>
  <ul>
    <li>[void] Emit events to file</li>
  </ul>
</blockquote>

  </div>
</div>

    </div>

    <div class="footer ui inverted very padded vertical segment">
  <div class="ui vertical segment">
    <div class="ui four column grid">
      <div class="column">
        <h4 class="ui inverted header">About</h4>
        <div class="ui inverted link list">
          <a class="item" href="/stack">Stack</a>
          <a class="item" href="/userale">UserALE</a>
          <a class="item" href="/distill">Distill</a>
          <a class="item" href="/tap">Tap</a>
          <a class="item" href="/stout">Stout</a>
        </div>
      </div>
      <div class="column">
        <h4 class="ui inverted header">Docs</h4>
        <div class="ui inverted link list">
          <a class="item" href="/docs/stack">Stack</a>
          <a class="item" href="/docs/userale">UserALE</a>
          <a class="item" href="/docs/useralejs">UserAle.js</a>
          <a class="item" href="/docs/useralepy">UserAle.py</a>
          <a class="item" href="/docs/distill">Distill</a>
          <a class="item" href="/docs/tap">Tap</a>
          <a class="item" href="/docs/stout">Stout</a>
        </div>
      </div>
      <div class="column">
        <h4 class="ui inverted header">Community</h4>
        <div class="ui inverted link list">
          <a class="item" href="https://github.com/apache?q=flagon">GitHub</a>
          <a class="item" href="http://stackoverflow.com/questions/tagged/apache-flagon">StackOverflow</a>
          <a class="item" href="https://issues.apache.org/jira/browse/FLAGON">Jira Issue Tracker</a>
          <a class="item" href="https://cwiki.apache.org/confluence/display/FLAGON">Project Wiki</a>
          <a class="item" href="https://twitter.com/ApacheFlagon">Twitter</a>
        </div>
      </div>
      <div class="column">
        <h4 class="ui inverted header">Apache</h4>
        <div class="ui inverted link list">
          <a class="item" href="http://www.apache.org/">Apache Software Foundation</a>
          <a class="item" href="http://www.apache.org/licenses/">License</a>
          <a class="item" href="http://www.apache.org/foundation/sponsorship.html">Sponsorship</a>
          <a class="item" href="http://www.apache.org/foundation/thanks.html">Thanks</a>
          <a class="item" href="http://www.apache.org/security/">Security</a>
        </div>
      </div>
    </div>
  </div>
  <div class="ui inverted vertical segment">
    <div class="ui two column middle aligned grid">
      <div class="column">
        Apache Flagon is an effort undergoing incubation at The Apache Software Foundation (ASF), sponsored by the Apache Incubator. Incubation is required of all newly accepted projects until a further review indicates that the infrastructure, communications, and decision making process have stabilized in a manner consistent with other successful ASF projects. While incubation status is not necessarily a reflection of the completeness or stability of the code, it does indicate that the project has yet to be fully endorsed by the ASF.
      </div>
      <div class="center aligned column">
        Copyright &copy; 2022 The Apache Software Foundation, Licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>.<br>
        Apache Flagon, Flagon, Apache, the Apache feather logo, the Apache Flagon logo and the Apache Incubator logo are trademarks of The Apache Software Foundation.
      </div>
    </div>
  </div>
  <div class="ui inverted vertical segment">
    <div class="ui one column middle aligned grid">
      <div class="center aligned column">
        <a href="http://incubator.apache.org/">
          <img src="/images/incubator-logo-white.jpg">
        </a>&nbsp;
        <a href="https://www.apache.org/events/current-event.html">
          <img src="https://www.apache.org/events/current-event-234x60.png" alt="ASF Current Event">
        </a>
      </div>
    </div>
  </div>
</div>


  </body>

</html>
